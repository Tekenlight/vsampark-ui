<app-page-header [heading]="'Companies- Approvals/Rejections'" [icon]="'fa-table'"></app-page-header>
<p-table [value]="companies" [paginator]="true" [rows]="10" sortField="company_name" [autoLayout]="true"
[lazy]="true" (onLazyLoad)="fetchPageWise($event)" [responsive]="true">
    <ng-template pTemplate="header">
        <tr> 
            <!-- <th>SL No</th> -->
            <th  *ngFor="let col of cols" [pSortableColumn]="col.field">
                {{col.header}}
            </th>
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-company let-i="rowIndex">
            <tr>
                <!-- <td>{{i+1}}</td> -->
                <td *ngFor="let col of cols;let i=index">
                    <div *ngIf="col.field == 'registered_address' then nested_object_content else normal_content" ></div> <!--nested object-->
                    <ng-template #nested_object_content>
                        {{company[col.field].line1}}  {{company[col.field].line2}}  {{company[col.field].city}}  {{company[col.field].pincode}}
                    </ng-template>
                    <ng-template #normal_content>
                        {{company[col.field]}}
                    </ng-template>
                </td>
                <td>
                    <i class="fa fa-eye" style="font-size:30px;color:#888;cursor: pointer;"(click)="viewCompany(companies[i])" ></i>
                      &nbsp;
                    <i class="fa fa-check" style="font-size:30px;color:#007ad9;cursor: pointer;"(click)="approveCompany(companies[i])" ></i>
                      &nbsp;
                    <i class="fa fa-times"  style="font-size:30px;color:rgb(196, 55, 55);cursor: pointer;"(click)="disableCompany(companies[i])" ></i>
                </td>
            </tr>
    </ng-template>
</p-table>